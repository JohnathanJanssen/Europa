:root{
  --card-w: 540px;
  --card-h: 720px;
  --radius-xl: 20px;
  --glass: rgba(20, 24, 31, 0.72);
  --glass-2: rgba(24, 28, 36, 0.72);
  --stroke: rgba(255,255,255,0.06);
  --accent: linear-gradient(135deg,#5b8bff 0%, #9b5bff 100%);
  --accent-raw: #7c6cff;
  --icon-dim: rgba(255,255,255,0.45);
  --icon-lit: #cdd8ff;
}
.jupiter-stage { display:grid; place-items:center; min-height:100vh; }
.jupiter-shell {
  width:var(--card-w); height:var(--card-h); border-radius:var(--radius-xl);
  background: radial-gradient(120% 90% at 20% 10%, rgba(76,98,138,0.18) 0%, transparent 55%) , var(--glass);
  border:1px solid var(--stroke); backdrop-filter: blur(16px);
  box-shadow: 0 30px 80px rgba(0,0,0,0.55), 0 0 140px 20px rgba(100,120,220,0.14);
  display:grid; grid-template-rows: auto 1fr auto; overflow:hidden; position:relative;
  z-index:1;
}
.jupiter-header{ display:flex; align-items:center; justify-content:space-between; padding:18px 22px 10px 22px; }
.jupiter-title{ letter-spacing:0.28em; font-weight:800; font-size:28px; color:#ecf2ff; cursor:pointer; user-select:none;}
.jupiter-thoughts{ color:#cfd8ea; background: var(--glass-2); border:1px solid var(--stroke);
  padding:8px 12px; border-radius:999px; font-size:13px; max-width: 62%; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
}
.jupiter-body{ position:relative; overflow:hidden; z-index:1; }
.jupiter-body-frame{ position:absolute; inset:0; overflow:hidden; padding:14px 18px 6px 18px; display: flex; flex-direction: column; }
.jupiter-scroll { flex-grow: 1; overflow-y: auto; }
.jupiter-footer{
  padding:12px 16px 18px 16px;
  display: grid;
  grid-template-columns: 1fr auto;
  grid-template-rows: auto auto;
  grid-template-areas:
    "input send"
    "icons icons";
  gap: 10px;
}
.jupiter-input{ grid-area: input; background:rgba(10,12,18,0.7); border:1px solid var(--stroke); color:#e8eeff;
  border-radius:14px; height:48px; padding:0 14px; outline:none;
}
.jupiter-send{ grid-area: send; width:52px; height:48px; border-radius:14px; border:none; color:#fff; background:var(--accent); cursor:pointer; }
.footer-icons { grid-area: icons; display: flex; justify-content: space-around; padding-top: 8px; }
.footer-btn { background:none; border:none; color: var(--icon-dim); cursor:pointer; transition: color .18s ease; }
.footer-btn:hover { color: #e6eeff; }
.footer-btn.active { color: var(--icon-lit); }
.footer-btn svg { width: 24px; height: 24px; }

.panel{ background:rgba(10,12,18,0.6); border:1px solid var(--stroke); border-radius:16px; padding:12px; flex-grow: 1; display: flex; flex-direction: column; }
.file-list{ font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, "Courier New", monospace; font-size:12px; color:#cfe1ff; display:grid; grid-template-columns: 1fr auto; gap:8px; }
.file-item{ padding:6px 8px; border-radius:8px; cursor:pointer; }
.file-item:hover{ background:rgba(255,255,255,0.06); }
.code-view{ white-space:pre; overflow:auto; max-height:420px; font-family: ui-monospace, Menlo, Monaco, "Courier New", monospace; font-size:12px; color:#e9f1ff; }
.term{ font-family: ui-monospace, Menlo, Monaco; color:#cfe1ff; background:rgba(5,6,9,0.6); border:1px solid var(--stroke); height:440px; border-radius:12px; padding:10px; overflow:auto; }
.hidden{ display:none; }
.vision-wrap{ position:relative }
.vision-video, .vision-overlay{ width:100%; display:block; border-radius:16px }
.vision-overlay{ position:absolute; inset:0; pointer-events:none }
.foot-icons .ico.active{ box-shadow:0 0 0 2px rgba(180,200,255,.16) inset, 0 0 18px rgba(120,170,255,.35) }